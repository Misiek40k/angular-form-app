(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{H4LN:function(t,r,e){"use strict";e.r(r),e.d(r,"FormModule",function(){return x});var o=e("FpXt"),n=e("3Pt+"),a=e("tyNb"),i=e("HDdC"),s=e("fXoL"),c=e("b6Qw"),l=function(t){return t.formData="formData",t}({});let b=(()=>{class t{constructor(t){this.cookieService=t}getFormData(t){return new i.a(r=>{if(this.cookieService.check(t)){const e=this.cookieService.get(t),o=JSON.parse(e);r.next(o)}})}setFormData(t,r,e){const o=JSON.stringify(r);return new i.a(r=>{this.cookieService.set(t,o,e),r.next(!0)})}}return t.\u0275fac=function(r){return new(r||t)(s.Vb(c.a))},t.\u0275prov=s.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=e("sYmb"),d=e("ofXK");function u(t,r){if(1&t&&(s.Ob(0,"div",22),s.Ob(1,"small",23),s.xc(2),s.Nb(),s.Nb()),2&t){const t=s.ac();s.wb(2),s.zc(" ",t.getNameControlErrorMessage()," ")}}function f(t,r){if(1&t&&(s.Ob(0,"div",22),s.Ob(1,"small",23),s.xc(2),s.Nb(),s.Nb()),2&t){const t=s.ac();s.wb(2),s.zc(" ",t.getSurnameControlErrorMessage()," ")}}function h(t,r){if(1&t&&(s.Ob(0,"div",22),s.Ob(1,"small",23),s.xc(2),s.Nb(),s.Nb()),2&t){const t=s.ac();s.wb(2),s.zc(" ",t.getAgeControlErrorMessage()," ")}}function g(t,r){if(1&t&&(s.Ob(0,"div",5),s.Ob(1,"div",3),s.Ob(2,"div",6),s.Ob(3,"div",24),s.Ob(4,"span",25),s.xc(5),s.bc(6,"translate"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t){const t=s.ac();s.wb(5),s.Bc(" ",s.cc(6,3,"FORM.helloText")," ",t.nameControl.value," ",t.surnameControl.value," ! ")}}function v(t,r){1&t&&s.Kb(0)}function O(t,r){1&t&&(s.Ob(0,"section",3),s.Ob(1,"div",4),s.Ob(2,"div",5),s.Ob(3,"div",6),s.Ob(4,"div",7),s.Ob(5,"div",8),s.Ob(6,"span",9),s.xc(7),s.bc(8,"translate"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t&&(s.wb(7),s.yc(s.cc(8,1,"SUMMARY.noData")))}function C(t,r){if(1&t){const t=s.Pb();s.Ob(0,"div",17),s.Ob(1,"div",11),s.Ob(2,"button",18),s.Yb("click",function(){return s.oc(t),s.ac(2).didAccessButtonClick()}),s.xc(3),s.bc(4,"translate"),s.Nb(),s.Nb(),s.Nb()}2&t&&(s.wb(3),s.zc(" ",s.cc(4,1,"SUMMARY.accessButton")," "))}function p(t,r){1&t&&(s.Ob(0,"div",19),s.Ob(1,"div",11),s.Jb(2,"img",20),s.Nb(),s.Nb())}function w(t,r){1&t&&(s.Ob(0,"div",5),s.Ob(1,"div",6),s.Ob(2,"div",7),s.Ob(3,"div",8),s.Ob(4,"span",9),s.xc(5),s.bc(6,"translate"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t&&(s.wb(5),s.yc(s.cc(6,1,"SUMMARY.ageError")))}function N(t,r){if(1&t&&(s.Ob(0,"section",3),s.Ob(1,"div",4),s.Ob(2,"div",10),s.Ob(3,"div",11),s.Ob(4,"div",7),s.Ob(5,"div",12),s.Ob(6,"span",13),s.xc(7),s.bc(8,"translate"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.vc(9,C,5,3,"div",14),s.vc(10,p,3,0,"div",15),s.vc(11,w,7,3,"div",16),s.Nb(),s.Nb()),2&t){const t=s.ac();s.wb(7),s.Bc(" ",t.formData.name," ",t.formData.surname,"",s.cc(8,6,"SUMMARY.title")," "),s.wb(2),s.fc("ngIf",t.isAccessBtnVisible),s.wb(1),s.fc("ngIf",t.isImageBoxVisible),s.wb(1),s.fc("ngIf",t.isDangerBoxVisible)}}const M=[{path:"",children:[{path:"",component:(()=>{class t{constructor(t,r,e){this.translate=t,this.formService=r,this.router=e,this.nameControl=new n.b(null,[n.l.required,n.l.pattern(/^[A-Za-z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]*$/)]),this.surnameControl=new n.b(null,[n.l.required,n.l.pattern(/^[A-Za-z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]*$/)]),this.ageControl=new n.b(null,[n.l.required,n.l.pattern(/^[1-9][0-9]*$/)])}ngOnInit(){this.updateModel()}updateModel(){this.formService.getFormData(l.formData).subscribe(t=>{this.formData=t,this.updateView()})}updateView(){this.nameControl.setValue(this.formData.name),this.surnameControl.setValue(this.formData.surname),this.ageControl.setValue(this.formData.age)}isHelloStripeVisible(){return this.nameControl.value&&!this.nameControl.errors&&this.surnameControl.value&&!this.surnameControl.errors}getNameControlErrorMessage(){return this.nameControl.hasError("required")?this.translate.instant("FORM.emptyNameControlError"):this.nameControl.hasError("pattern")?this.translate.instant("FORM.digitsNameControlError"):void 0}getSurnameControlErrorMessage(){return this.surnameControl.hasError("required")?this.translate.instant("FORM.emptySurnameControlError"):this.surnameControl.hasError("pattern")?this.translate.instant("FORM.digitsSurnameControlError"):void 0}getAgeControlErrorMessage(){return this.ageControl.hasError("required")?this.translate.instant("FORM.emptyAgeControlError"):this.ageControl.hasError("pattern")?this.translate.instant("FORM.lettersAgeControlError"):void 0}isFormCorrect(){return this.nameControl.markAsDirty(),this.surnameControl.markAsDirty(),this.ageControl.markAsDirty(),!(this.nameControl.errors||this.surnameControl.errors||this.ageControl.errors)}didSaveButtonClick(){if(!this.isFormCorrect())return;const t={name:this.nameControl.value,surname:this.surnameControl.value,age:Number(this.ageControl.value)};this.formService.setFormData(l.formData,t,0).subscribe(()=>{this.router.navigate(["/form/summary"])})}}return t.\u0275fac=function(r){return new(r||t)(s.Ib(m.d),s.Ib(b),s.Ib(a.a))},t.\u0275cmp=s.Cb({type:t,selectors:[["app-form"]],decls:47,vars:31,consts:[[1,"section"],[1,"container"],[1,"row","title-row"],[1,"col"],[1,"title"],[1,"row","mb-4"],[1,"card"],[1,"card-body"],[1,"row","form-row","mb-md-4","mb-sm-3"],[1,"col-md-2","form-col","d-flex","align-items-center"],["for","nameControl",1,"card-title"],[1,"col-md-4","form-col"],[1,"form-group"],["type","text","id","nameControl",1,"form-control",3,"placeholder","formControl"],["class","col-md-6 form-col h-auto d-flex align-items-center",4,"ngIf"],["for","surnameControl",1,"card-title"],["type","text","id","surnameControl",1,"form-control",3,"placeholder","formControl"],[1,"row","form-row","mb-md-2"],["type","text","id","ageControl",1,"form-control",3,"placeholder","formControl"],["class","row mb-4",4,"ngIf"],[1,"row","buttons-row"],[1,"btn","btn-primary",3,"click"],[1,"col-md-6","form-col","h-auto","d-flex","align-items-center"],[1,"text-danger"],[1,"card-header"],[1,"hello-text"]],template:function(t,r){1&t&&(s.Ob(0,"section",0),s.Ob(1,"div",1),s.Ob(2,"div",2),s.Ob(3,"div",3),s.Ob(4,"h2",4),s.xc(5),s.bc(6,"translate"),s.Nb(),s.Nb(),s.Nb(),s.Ob(7,"div",5),s.Ob(8,"div",3),s.Ob(9,"div",6),s.Ob(10,"form",7),s.Ob(11,"div",8),s.Ob(12,"div",9),s.Ob(13,"label",10),s.xc(14),s.bc(15,"translate"),s.Nb(),s.Nb(),s.Ob(16,"div",11),s.Ob(17,"div",12),s.Jb(18,"input",13),s.bc(19,"translate"),s.Nb(),s.Nb(),s.vc(20,u,3,1,"div",14),s.Nb(),s.Ob(21,"div",8),s.Ob(22,"div",9),s.Ob(23,"label",15),s.xc(24),s.bc(25,"translate"),s.Nb(),s.Nb(),s.Ob(26,"div",11),s.Ob(27,"div",12),s.Jb(28,"input",16),s.bc(29,"translate"),s.Nb(),s.Nb(),s.vc(30,f,3,1,"div",14),s.Nb(),s.Ob(31,"div",17),s.Ob(32,"div",9),s.Ob(33,"label",10),s.xc(34),s.bc(35,"translate"),s.Nb(),s.Nb(),s.Ob(36,"div",11),s.Ob(37,"div",12),s.Jb(38,"input",18),s.bc(39,"translate"),s.Nb(),s.Nb(),s.vc(40,h,3,1,"div",14),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.vc(41,g,7,5,"div",19),s.Ob(42,"div",20),s.Ob(43,"div",3),s.Ob(44,"button",21),s.Yb("click",function(){return r.didSaveButtonClick()}),s.xc(45),s.bc(46,"translate"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t&&(s.wb(5),s.zc(" ",s.cc(6,15,"FORM.title")," "),s.wb(9),s.zc(" ",s.cc(15,17,"FORM.nameControlLabel")," "),s.wb(4),s.fc("placeholder",s.cc(19,19,"FORM.nameControlPlaceholder"))("formControl",r.nameControl),s.wb(2),s.fc("ngIf",r.nameControl.dirty&&r.nameControl.errors),s.wb(4),s.zc(" ",s.cc(25,21,"FORM.surnameControlLabel")," "),s.wb(4),s.fc("placeholder",s.cc(29,23,"FORM.surnameControlPlaceholder"))("formControl",r.surnameControl),s.wb(2),s.fc("ngIf",r.surnameControl.dirty&&r.surnameControl.errors),s.wb(4),s.zc(" ",s.cc(35,25,"FORM.ageControlLabel")," "),s.wb(4),s.fc("placeholder",s.cc(39,27,"FORM.ageControlPlaceholder"))("formControl",r.ageControl),s.wb(2),s.fc("ngIf",r.ageControl.dirty&&r.ageControl.errors),s.wb(1),s.fc("ngIf",r.isHelloStripeVisible()),s.wb(4),s.zc(" ",s.cc(46,29,"FORM.saveButton")," "))},directives:[n.n,n.h,n.i,n.a,n.g,n.c,d.j],pipes:[m.c],styles:[".form-row[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:500}.form-row[_ngcontent-%COMP%]   .form-col[_ngcontent-%COMP%]{height:2.375rem}.form-row[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;margin:0}"]}),t})()},{path:"summary",component:(()=>{class t{constructor(t){this.formService=t,this.isAccessBtnVisible=!0,this.isDangerBoxVisible=!1,this.isImageBoxVisible=!1}ngOnInit(){this.updateModel()}updateModel(){this.formService.getFormData(l.formData).subscribe(t=>{this.formData=t})}didAccessButtonClick(){this.formData&&(this.isAccessBtnVisible=!1,this.formData.age<18?this.isDangerBoxVisible=!0:this.isImageBoxVisible=!0)}}return t.\u0275fac=function(r){return new(r||t)(s.Ib(b))},t.\u0275cmp=s.Cb({type:t,selectors:[["app-summary"]],decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["noData",""],["data",""],[1,"section"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-header","bg-danger","text-white","text-center"],[1,"danger-badge-text"],[1,"row","title-row"],[1,"col"],[1,"card-header"],[1,"hello-text"],["class","row buttons-row",4,"ngIf"],["class","row",4,"ngIf"],["class","row justify-content-center",4,"ngIf"],[1,"row","buttons-row"],[1,"btn","btn-primary",3,"click"],[1,"row"],["src","assets/images/corvette.jpg","alt","corvette",1,"succes-image","rounded","mx-auto","d-block"]],template:function(t,r){if(1&t&&(s.vc(0,v,1,0,"ng-container",0),s.vc(1,O,9,3,"ng-template",null,1,s.wc),s.vc(3,N,12,8,"ng-template",null,2,s.wc)),2&t){const t=s.nc(2),e=s.nc(4);s.fc("ngIf",r.formData)("ngIfThen",e)("ngIfElse",t)}},directives:[d.j],pipes:[m.c],styles:[".danger-badge-text[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:500}.succes-image[_ngcontent-%COMP%]{width:31.25rem;height:31.25rem;object-fit:cover}@media (max-width:767.98px){.succes-image[_ngcontent-%COMP%]{width:100%;height:auto}}"]}),t})()},{path:"**",redirectTo:"",pathMatch:"full"}]}];let x=(()=>{class t{}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(r){return new(r||t)},imports:[[o.a,a.d.forChild(M),n.d,n.k]]}),t})()}}]);